{"title":"E. Anton and Permutation","contestId":"785","problemIndex":"E","timeLimit":"4 seconds","memLimit":"512 megabytes","inputFormat":"standard input","outputFormat":"standard output","problemHtml":"<p>Anton likes permutations, especially he likes to permute their elements. Note that a permutation of <span class=\"tex-span\"><i>n</i></span> elements is a sequence of numbers <span class=\"tex-span\">{<i>a</i><sub class=\"lower-index\">1</sub>,&#x2009;<i>a</i><sub class=\"lower-index\">2</sub>,&#x2009;...,&#x2009;<i>a</i><sub class=\"lower-index\"><i>n</i></sub>}</span>, in which every number from <span class=\"tex-span\">1</span> to <span class=\"tex-span\"><i>n</i></span> appears exactly once.</p><p>One day Anton got a new permutation and started to play with it. He does the following operation <span class=\"tex-span\"><i>q</i></span> times: he takes two elements of the permutation and swaps these elements. After each operation he asks his friend Vanya, how many inversions there are in the new permutation. The number of inversions in a permutation is the number of distinct pairs <span class=\"tex-span\">(<i>i</i>,&#x2009;<i>j</i>)</span> such that <span class=\"tex-span\">1&#x2009;&#x2264;&#x2009;<i>i</i>&#x2009;&lt;&#x2009;<i>j</i>&#x2009;&#x2264;&#x2009;<i>n</i></span> and <span class=\"tex-span\"><i>a</i><sub class=\"lower-index\"><i>i</i></sub>&#x2009;&gt;&#x2009;<i>a</i><sub class=\"lower-index\"><i>j</i></sub></span>.</p><p>Vanya is tired of answering Anton&apos;s silly questions. So he asked you to write a program that would answer these questions instead of him.</p><p>Initially Anton&apos;s permutation was <span class=\"tex-span\">{1,&#x2009;2,&#x2009;...,&#x2009;<i>n</i>}</span>, that is <span class=\"tex-span\"><i>a</i><sub class=\"lower-index\"><i>i</i></sub>&#x2009;=&#x2009;<i>i</i></span> for all <span class=\"tex-span\"><i>i</i></span> such that <span class=\"tex-span\">1&#x2009;&#x2264;&#x2009;<i>i</i>&#x2009;&#x2264;&#x2009;<i>n</i></span>.</p>","inSpecsHtml":"<div class=\"section-title\">Input</div><p>The first line of the input contains two integers <span class=\"tex-span\"><i>n</i></span> and <span class=\"tex-span\"><i>q</i></span> <span class=\"tex-span\">(1&#x2009;&#x2264;&#x2009;<i>n</i>&#x2009;&#x2264;&#x2009;200&#x2009;000,&#x2009;1&#x2009;&#x2264;&#x2009;<i>q</i>&#x2009;&#x2264;&#x2009;50&#x2009;000)</span>&#xA0;&#x2014; the length of the permutation and the number of operations that Anton does.</p><p>Each of the following <span class=\"tex-span\"><i>q</i></span> lines of the input contains two integers <span class=\"tex-span\"><i>l</i><sub class=\"lower-index\"><i>i</i></sub></span> and <span class=\"tex-span\"><i>r</i><sub class=\"lower-index\"><i>i</i></sub></span> <span class=\"tex-span\">(1&#x2009;&#x2264;&#x2009;<i>l</i><sub class=\"lower-index\"><i>i</i></sub>,&#x2009;<i>r</i><sub class=\"lower-index\"><i>i</i></sub>&#x2009;&#x2264;&#x2009;<i>n</i>)</span>&#xA0;&#x2014; the indices of elements that Anton swaps during the <span class=\"tex-span\"><i>i</i></span>-th operation. Note that indices of elements that Anton swaps during the <span class=\"tex-span\"><i>i</i></span>-th operation can coincide. Elements in the permutation are numbered starting with one.</p>","outSpecsHtml":"<div class=\"section-title\">Output</div><p>Output <span class=\"tex-span\"><i>q</i></span> lines. The <span class=\"tex-span\"><i>i</i></span>-th line of the output is the number of inversions in the Anton&apos;s permutation after the <span class=\"tex-span\"><i>i</i></span>-th operation.</p>","noteHtml":"<div class=\"section-title\">Note</div><p>Consider the first sample.</p><p>After the first Anton&apos;s operation the permutation will be <span class=\"tex-span\">{1,&#x2009;2,&#x2009;3,&#x2009;5,&#x2009;4}</span>. There is only one inversion in it: <span class=\"tex-span\">(4,&#x2009;5)</span>.</p><p>After the second Anton&apos;s operation the permutation will be <span class=\"tex-span\">{1,&#x2009;5,&#x2009;3,&#x2009;2,&#x2009;4}</span>. There are four inversions: <span class=\"tex-span\">(2,&#x2009;3)</span>, <span class=\"tex-span\">(2,&#x2009;4)</span>, <span class=\"tex-span\">(2,&#x2009;5)</span> and <span class=\"tex-span\">(3,&#x2009;4)</span>.</p><p>After the third Anton&apos;s operation the permutation will be <span class=\"tex-span\">{1,&#x2009;4,&#x2009;3,&#x2009;2,&#x2009;5}</span>. There are three inversions: <span class=\"tex-span\">(2,&#x2009;3)</span>, <span class=\"tex-span\">(2,&#x2009;4)</span> and <span class=\"tex-span\">(3,&#x2009;4)</span>.</p><p>After the fourth Anton&apos;s operation the permutation doesn&apos;t change, so there are still three inversions.</p>","sampleTestcases":[{"id":1617795383887,"input":"5 4\n4 5\n2 4\n2 5\n2 2\n","output":"1\n4\n3\n3\n"},{"id":1617795383888,"input":"2 1\n2 1\n","output":"1\n"},{"id":1617795383889,"input":"6 7\n1 4\n3 5\n2 3\n3 3\n3 6\n2 1\n5 1\n","output":"5\n6\n7\n7\n10\n11\n8\n"}],"submitUrl":"https://codeforces.com/contest/785/submit","language":"c++"}