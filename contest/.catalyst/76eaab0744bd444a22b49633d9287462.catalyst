{"title":"E. Baby Ehab&apos;s Hyper Apartment","contestId":"1514","problemIndex":"E","timeLimit":"1 second","memLimit":"256 megabytes","inputFormat":"standard input","outputFormat":"standard output","problemHtml":"<p><span class=\"tex-font-style-it\">This is an interactive problem.</span></p><p>Baby Ehab loves crawling around his apartment. It has $$$n$$$ rooms numbered from $$$0$$$ to $$$n-1$$$. For every pair of rooms, $$$a$$$ and $$$b$$$, there&apos;s either a direct passage from room $$$a$$$ to room $$$b$$$, or from room $$$b$$$ to room $$$a$$$, but never both.</p><p>Baby Ehab wants to go play with Baby Badawy. He wants to know if he could get to him. However, he doesn&apos;t know anything about his apartment except the number of rooms. He can ask the baby sitter two types of questions: </p><ul> <li> is the passage between room $$$a$$$ and room $$$b$$$ directed from $$$a$$$ to $$$b$$$ or the other way around? </li><li> does room $$$x$$$ have a passage towards any of the rooms $$$s_1$$$, $$$s_2$$$, ..., $$$s_k$$$? </li></ul><p>He can ask at most $$$9n$$$ queries of the first type and at most $$$2n$$$ queries of the second type.</p><p>After asking some questions, he wants to know for every pair of rooms $$$a$$$ and $$$b$$$ whether there&apos;s a path from $$$a$$$ to $$$b$$$ or not. A path from $$$a$$$ to $$$b$$$ is a sequence of passages that starts from room $$$a$$$ and ends at room $$$b$$$.</p>","inSpecsHtml":"<div class=\"section-title\">Input</div><p>The first line contains an integer $$$t$$$ ($$$1 \\le t \\le 30$$$)&#xA0;&#x2014; the number of test cases you need to solve.</p><p>Then each test case starts with an integer $$$n$$$ ($$$4 \\le n \\le 100$$$)&#xA0;&#x2014; the number of rooms.</p><p>The sum of $$$n$$$ across the test cases doesn&apos;t exceed $$$500$$$.</p>","outSpecsHtml":"<div class=\"section-title\">Output</div><p>To print the answer for a test case, print a line containing &quot;<span class=\"tex-font-style-tt\">3</span>&quot;, followed by $$$n$$$ lines, each containing a binary string of length $$$n$$$. The $$$j$$$-th character of the $$$i$$$-th string should be $$$1$$$ if there&apos;s a path from room $$$i$$$ to room $$$j$$$, and $$$0$$$ if there isn&apos;t. The $$$i$$$-th character of the $$$i$$$-th string should be $$$1$$$ for each valid $$$i$$$.</p><p>After printing the answer, we will respond with a single integer. If it&apos;s $$$1$$$, you printed a correct answer and should keep solving the test cases (or exit if it is the last one). If it&apos;s $$$-1$$$, you printed a wrong answer and should terminate to get <span class=\"tex-font-style-tt\">Wrong answer</span> verdict. Otherwise, you can get an arbitrary verdict because your solution will continue to read from a closed stream.</p>","noteHtml":"<div class=\"section-title\">Note</div><p>In the given example:</p><p><img class=\"tex-graphics\" src=\"https://espresso.codeforces.com/a7273dca08aa163722c2dd3334a40b71eff9ed4b.png\" style=\"max-width: 100.0%;max-height: 100.0%;\"></p><p>The first query asks whether there&apos;s a passage from room $$$3$$$ to any of the other rooms.</p><p>The second query asks about the direction of the passage between rooms $$$0$$$ and $$$1$$$.</p><p>After a couple other queries, we concluded that you can go from any room to any other room <span class=\"tex-font-style-bf\">except</span> if you start at room $$$3$$$, and you can&apos;t get out of this room, so we printed the matrix:</p><pre class=\"verbatim\"><br>1111<br>1111<br>1111<br>0001<br></pre><p>The interactor answered with $$$1$$$, telling us the answer is correct.</p>","sampleTestcases":[{"id":1618839621127,"input":"1\n4\n\n0\n\n0\n\n1\n\n1\n\n1","output":"2 3 3 0 1 2\n\n1 0 1\n\n1 0 2\n\n2 2 1 1\n\n3\n1111\n1111\n1111\n0001"}],"submitUrl":"https://codeforces.com/contest/1514/submit","language":"c++"}